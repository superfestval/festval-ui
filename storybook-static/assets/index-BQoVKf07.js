import{r,a as y}from"./index-BuYn5Wpo.js";import{j as h}from"./jsx-runtime-BjgbQsUx.js";function _(e,t){const n=r.createContext(t),o=c=>{const{children:u,...a}=c,i=r.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:i,children:u})};o.displayName=e+"Provider";function s(c){const u=r.useContext(n);if(u)return u;if(t!==void 0)return t;throw new Error(`\`${c}\` must be used within \`${e}\``)}return[o,s]}function M(e,t=[]){let n=[];function o(c,u){const a=r.createContext(u),i=n.length;n=[...n,u];const d=f=>{var S;const{scope:l,children:p,...v}=f,x=((S=l==null?void 0:l[e])==null?void 0:S[i])||a,E=r.useMemo(()=>v,Object.values(v));return h.jsx(x.Provider,{value:E,children:p})};d.displayName=c+"Provider";function m(f,l){var x;const p=((x=l==null?void 0:l[e])==null?void 0:x[i])||a,v=r.useContext(p);if(v)return v;if(u!==void 0)return u;throw new Error(`\`${f}\` must be used within \`${c}\``)}return[d,m]}const s=()=>{const c=n.map(u=>r.createContext(u));return function(a){const i=(a==null?void 0:a[e])||c;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:i}}),[a,i])}};return s.scopeName=e,[o,P(s,...t)]}function P(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(c){const u=o.reduce((a,{useScope:i,scopeName:d})=>{const f=i(c)[`__scope${d}`];return{...a,...f}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return n.scopeName=t.scopeName,n}function C(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)==null?void 0:o.call(t,...n)},[])}function k(e,t=globalThis==null?void 0:globalThis.document){const n=C(e);r.useEffect(()=>{const o=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",o,{capture:!0}),()=>t.removeEventListener("keydown",o,{capture:!0})},[n,t])}var b=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},w=y.useId||(()=>{}),$=0;function I(e){const[t,n]=r.useState(w());return b(()=>{n(o=>o??String($++))},[e]),t?`radix-${t}`:""}function L({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,s]=g({defaultProp:t,onChange:n}),c=e!==void 0,u=c?e:o,a=C(n),i=r.useCallback(d=>{if(c){const f=typeof d=="function"?d(e):d;f!==e&&a(f)}else s(d)},[c,e,s,a]);return[u,i]}function g({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,s=r.useRef(o),c=C(t);return r.useEffect(()=>{s.current!==o&&(c(o),s.current=o)},[o,s,c]),n}export{_ as a,I as b,M as c,b as d,C as e,k as f,L as u};
