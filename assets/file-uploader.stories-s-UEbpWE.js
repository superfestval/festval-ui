import{j as e}from"./jsx-runtime-Cf8x2fCZ.js";import{r as c}from"./index--qcDGAq6.js";import{c as h}from"./createLucideIcon-DbwIO29z.js";import{F as U}from"./file-CnFf7vmQ.js";import"./index-yBjzXJbu.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=h("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=h("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);function x({accept:j,permissionType:p="",onFileChange:d}){const[l,i]=c.useState([]);c.useEffect(()=>{d==null||d(l)},[l]);const v=c.useCallback(s=>{const a=s.target.files;if(!a)return;const t=[];Array.from(a).forEach(r=>{t.push({id:crypto.randomUUID(),file:r,previewUrl:URL.createObjectURL(r),permission:p})}),i(r=>[...r,...t])},[]),y=s=>{i(a=>a.filter(t=>t.id!==s))},g=c.useCallback(s=>{s.preventDefault();const a=s.dataTransfer.files;if(!a)return;const t=[];Array.from(a).forEach(r=>{t.push({id:crypto.randomUUID(),file:r,previewUrl:URL.createObjectURL(r),permission:p})}),i(r=>[...r,...t])},[]);return e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"cursor-pointer rounded border border-dashed border-gray-400 p-6 text-center",onDragOver:s=>s.preventDefault(),onDrop:g,children:e.jsxs("label",{className:"cursor-pointer",children:[e.jsx("input",{type:"file",className:"hidden",accept:j,multiple:!0,onChange:v}),e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(b,{className:"h-8 w-8"}),e.jsx("span",{children:"Arraste arquivos ou clique para enviar"})]})]})}),l.length>0&&e.jsx("ul",{className:"space-y-2",children:l.map(s=>e.jsxs("li",{className:"flex items-center justify-between rounded bg-gray-50 p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(U,{className:"h-5 w-5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.file.name}),e.jsxs("select",{className:"rounded border p-1 text-xs",value:s.permission,onChange:a=>{const t=a.target.value;i(r=>r.map(n=>n.id===s.id?{...n,permission:t}:n))},children:[e.jsx("option",{value:"",children:"PÃºblico"}),e.jsx("option",{value:"8f2c1f7f-fb9e-4410-838d-27e9fec92fef",children:"Administrador"})]})]})]}),e.jsx("button",{type:"button",onClick:()=>y(s.id),className:"text-red-500 hover:text-red-700",children:e.jsx(N,{className:"h-4 w-4"})})]},s.id))})]})}x.__docgenInfo={description:"",methods:[],displayName:"FileUploader",props:{accept:{required:!1,tsType:{name:"string"},description:""},permissionType:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},onFileChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(files: UploadedFile[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"UploadedFile"}],raw:"UploadedFile[]"},name:"files"}],return:{name:"void"}}},description:""}}};const T={component:x,title:"Forms/FileUploader",args:{},argTypes:{},tags:["autodocs"]},o={};o.args={};var m,u,f;o.parameters={...o.parameters,docs:{...(m=o.parameters)==null?void 0:m.docs,source:{originalSource:"{}",...(f=(u=o.parameters)==null?void 0:u.docs)==null?void 0:f.source}}};const A=["Default"];export{o as Default,A as __namedExportsOrder,T as default};
